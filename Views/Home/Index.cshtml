@{
    ViewData["Title"] = "Hospital Dashboard";
}

<div class="container mt-5">
    <h1 class="text-center mb-4 display-4">Hospital Management System</h1>
    <p class="text-center lead mb-5">Manage Patients, Doctors, and Hospitals efficiently</p>

    <!-- Dashboard Cards -->
    <div class="row g-4">
        <!-- Hospitals Card -->
        <div class="col-md-4">
            <div class="card dashboard-card h-100 text-white bg-gradient-primary">
                <div class="card-body text-center">
                    <div class="mb-3 icon-bounce">
                        <i class="bi bi-building fs-1"></i>
                    </div>
                    <h5 class="card-title">Hospitals</h5>
                    <p class="card-text fs-2 fw-bold count">@ViewBag.HospitalsCount</p>
                    <a asp-controller="Hospital" asp-action="Index" class="btn btn-light btn-sm">View Hospitals</a>
                </div>
            </div>
        </div>

        <!-- Patients Card -->
        <div class="col-md-4">
            <div class="card dashboard-card h-100 text-white bg-gradient-success">
                <div class="card-body text-center">
                    <div class="mb-3 icon-bounce">
                        <i class="bi bi-person-fill fs-1"></i>
                    </div>
                    <h5 class="card-title">Patients</h5>
                    <p class="card-text fs-2 fw-bold count">@ViewBag.PatientsCount</p>
                    <a asp-controller="Patient" asp-action="Index" class="btn btn-light btn-sm">View Patients</a>
                </div>
            </div>
        </div>

        <!-- Doctors Card -->
        <div class="col-md-4">
            <div class="card dashboard-card h-100 text-white bg-gradient-warning">
                <div class="card-body text-center">
                    <div class="mb-3 icon-bounce">
                        <i class="bi bi-person-badge-fill fs-1"></i>
                    </div>
                    <h5 class="card-title">Doctors</h5>
                    <p class="card-text fs-2 fw-bold count">@ViewBag.DoctorsCount</p>
                    <a asp-controller="Doctor" asp-action="Index" class="btn btn-light btn-sm">View Doctors</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="mt-5">
        <h3 class="mb-3">Quick Actions</h3>
        <div class="row g-3">
            <div class="col-md-4">
                <a asp-controller="Patient" asp-action="Create" class="btn btn-outline-primary w-100 py-3 action-btn">
                    Add New Patient
                </a>
            </div>
            <div class="col-md-4">
                <a asp-controller="Doctor" asp-action="Create" class="btn btn-outline-success w-100 py-3 action-btn">
                    Add New Doctor
                </a>
            </div>
            <div class="col-md-4">
                <a asp-controller="Hospital" asp-action="Create" class="btn btn-outline-warning w-100 py-3 action-btn">
                    Add New Hospital
                </a>
            </div>
        </div>
    </div>

    <!-- General Guidelines -->
    <div class="mt-5">
        <h3 class="mb-4">General Guidelines</h3>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card guideline-card h-100 text-center shadow-sm p-3">
                    <div class="mb-3 icon-bounce">
                        <i class="bi bi-shield-lock fs-1 text-primary"></i>
                    </div>
                    <h5 class="card-title">Data Privacy</h5>
                    <p class="card-text">Always protect patient data and follow hospital security protocols.</p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card guideline-card h-100 text-center shadow-sm p-3">
                    <div class="mb-3 icon-bounce">
                        <i class="bi bi-clock fs-1 text-success"></i>
                    </div>
                    <h5 class="card-title">Timely Updates</h5>
                    <p class="card-text">Keep patient and doctor records up to date for accurate reporting.</p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card guideline-card h-100 text-center shadow-sm p-3">
                    <div class="mb-3 icon-bounce">
                        <i class="bi bi-people fs-1 text-warning"></i>
                    </div>
                    <h5 class="card-title">Collaboration</h5>
                    <p class="card-text">Encourage teamwork between doctors, nurses, and administrative staff.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="container my-5">
        <h2 class="text-center mb-4">Our Hospital Features</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 shadow-sm feature-card p-3 text-center">
                    <i class="bi bi-heart-pulse-fill display-4 text-danger mb-3"></i>
                    <h5 class="card-title">24/7 Emergency</h5>
                    <p class="card-text">Round-the-clock emergency services with highly trained staff.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 shadow-sm feature-card p-3 text-center">
                    <i class="bi bi-person-badge-fill display-4 text-primary mb-3"></i>
                    <h5 class="card-title">Expert Doctors</h5>
                    <p class="card-text">Highly qualified specialists in various medical fields.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 shadow-sm feature-card p-3 text-center">
                    <i class="bi bi-hospital-fill display-4 text-success mb-3"></i>
                    <h5 class="card-title">Modern Facilities</h5>
                    <p class="card-text">State-of-the-art medical technology for accurate diagnosis.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 shadow-sm feature-card p-3 text-center">
                    <i class="bi bi-beaker-fill display-4 text-info mb-3"></i>
                    <h5 class="card-title">Lab Tests</h5>
                    <p class="card-text">Comprehensive laboratory tests with fast results.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 shadow-sm feature-card p-3 text-center">
                    <i class="bi bi-capsule display-4 text-warning mb-3"></i>
                    <h5 class="card-title">Pharmacy Services</h5>
                    <p class="card-text">In-house pharmacy providing essential medications.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 shadow-sm feature-card p-3 text-center">
                    <i class="bi bi-phone display-4 text-secondary mb-3"></i>
                    <h5 class="card-title">Telemedicine</h5>
                    <p class="card-text">Remote consultation services for patient convenience.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activities -->
    <div class="mt-5">
        <h3 class="mb-4">Recent Activities</h3>
        <ul class="list-group shadow-sm">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                New Patient Added: John Doe
                <span class="badge bg-primary rounded-pill">5 min ago</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Doctor Assigned: Dr. Smith
                <span class="badge bg-success rounded-pill">10 min ago</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Hospital Updated: City Hospital
                <span class="badge bg-warning text-dark rounded-pill">30 min ago</span>
            </li>
        </ul>
    </div>

    

</div>

@section Styles {
    <style>
        body {
            background: linear-gradient(120deg, #f0f8ff, #e6f7ff);
        }

        /* Dashboard Cards */
        .dashboard-card {
            border: none;
            border-radius: 15px;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

            .dashboard-card:hover {
                transform: translateY(-10px) scale(1.05);
                box-shadow: 0 15px 25px rgba(0,0,0,0.3);
            }

        /* Gradient Colors */
        .bg-gradient-primary {
            background: linear-gradient(45deg, #007bff, #00c6ff);
        }

        .bg-gradient-success {
            background: linear-gradient(45deg, #28a745, #85e085);
        }

        .bg-gradient-warning {
            background: linear-gradient(45deg, #ffc107, #ffec99);
        }

        /* Guideline Cards */
        .guideline-card, .feature-card {
            transition: transform 0.3s, box-shadow 0.3s;
            border-radius: 10px;
        }

            .guideline-card:hover, .feature-card:hover {
                transform: translateY(-5px) scale(1.02);
                box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            }

        /* Icon bounce animation */
        .icon-bounce i {
            display: inline-block;
            animation: bounce 2s infinite;
        }


        /* Action Buttons */
        .action-btn {
            transition: transform 0.3s, box-shadow 0.3s;
        }

            .action-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            }
    </style>
}

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/countup.js/2.2.0/countUp.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // CountUp Animation
        document.addEventListener("DOMContentLoaded", function() {
            var counters = document.querySelectorAll('.count');
            counters.forEach(function(counter) {
                var countUp = new CountUp(counter, parseInt(counter.innerText));
                if (!countUp.error) countUp.start();
            });
        });

        // Chart.js - Hospital Statistics
        const ctx = document.getElementById('hospitalChart').getContext('2d');
        const hospitalChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['City Hospital', 'Central Hospital', 'Al-Madina Hospital', 'Royal Hospital'], // أسماء المستشفيات
                datasets: [{
                    label: 'Number of Patients',
                    data: [120, 90, 75, 60], // مثال: عدد المرضى لكل مستشفى
                    backgroundColor: ['#007bff','#28a745','#ffc107','#dc3545']
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, title: { display: true, text: 'Number of Patients' } },
                    x: { title: { display: true, text: 'Hospitals' } }
                }
            }
        });
    </script>

}
